public class Singleton4
{
	public static void main(String[] args)
	{
		Thread t1 = new Thread(new Runnable(){
			public void run()
			{
				Single obj1 = Single.getInstance();
			}
	});
		
		Thread t2 = new Thread(new Runnable(){
			public void run()
			{
				Single obj2 = Single.getInstance(); //Doesn't create
			}
	});
	
	t1.start();
	t2.start();
	}
}

class Single 
{
	// Double Checked Locking

	public static Single obj;
 
	private Single()
	{
		System.out.println("Instance Created");
	}

	public static Single getInstance()
	{
		if(obj == null)
		{
			synchronized(Single.class)
			{
				if(obj == null)
				obj = new Single();
			}
		}
		return obj;
	}
}